{
  "info": {
    "name": "Expense Tracker API - Complete",
    "description": "Complete API collection for Expense Tracker application",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:3001" },
    { "key": "token", "value": "" }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Signup",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\",\n  \"phone\": \"1234567890\",\n  \"countryCode\": \"+20\",\n  \"country\": \"Egypt\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/auth/signup", "host": ["{{baseUrl}}"], "path": ["auth", "signup"] }
          }
        },
        {
          "name": "Confirm OTP",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "{\n  \"otp\": \"123456\"\n}" },
            "url": { "raw": "{{baseUrl}}/auth/signup/configurationOTP", "host": ["{{baseUrl}}"], "path": ["auth", "signup", "configurationOTP"] }
          }
        },
        {
          "name": "Signin",
          "event": [{ "listen": "test", "script": { "exec": ["var jsonData = pm.response.json();", "if (jsonData.token) { pm.collectionVariables.set('token', jsonData.token); }"], "type": "text/javascript" } }],
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "{\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\"\n}" },
            "url": { "raw": "{{baseUrl}}/auth/signin", "host": ["{{baseUrl}}"], "path": ["auth", "signin"] }
          }
        },
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/auth/profile", "host": ["{{baseUrl}}"], "path": ["auth", "profile"] }
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Smith\",\n  \"phone\": \"0987654321\"\n}" },
            "url": { "raw": "{{baseUrl}}/auth/profile", "host": ["{{baseUrl}}"], "path": ["auth", "profile"] }
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"oldPassword\": \"password123\",\n  \"newPassword\": \"newpassword456\"\n}" },
            "url": { "raw": "{{baseUrl}}/auth/changePassword", "host": ["{{baseUrl}}"], "path": ["auth", "changePassword"] }
          }
        },
        {
          "name": "Forget Password",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "{\n  \"email\": \"john@example.com\"\n}" },
            "url": { "raw": "{{baseUrl}}/auth/forgetPassword", "host": ["{{baseUrl}}"], "path": ["auth", "forgetPassword"] }
          }
        },
        {
          "name": "Set New Password",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "{\n  \"newPassword\": \"newpassword789\"\n}" },
            "url": { "raw": "{{baseUrl}}/auth/setNewPassword?token=reset_token_here", "host": ["{{baseUrl}}"], "path": ["auth", "setNewPassword"], "query": [{ "key": "token", "value": "reset_token_here" }] }
          }
        },
        {
          "name": "Resend OTP",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "{\n  \"email\": \"john@example.com\"\n}" },
            "url": { "raw": "{{baseUrl}}/auth/resendOTP", "host": ["{{baseUrl}}"], "path": ["auth", "resendOTP"] }
          }
        },
        {
          "name": "Delete Account",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"password\": \"password123\"\n}" },
            "url": { "raw": "{{baseUrl}}/auth/account", "host": ["{{baseUrl}}"], "path": ["auth", "account"] }
          }
        }
      ]
    },
    {
      "name": "Transactions",
      "item": [
        {
          "name": "Create with Text",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"text\": \"Bought coffee from Starbucks\",\n  \"items\": [{\"_id\": \"item_id_here\"}],\n  \"price\": 50\n}" },
            "url": { "raw": "{{baseUrl}}/transactions/createWithText", "host": ["{{baseUrl}}"], "path": ["transactions", "createWithText"] }
          }
        },
        {
          "name": "Create with Voice",
          "request": {
            "method": "POST",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "body": { "mode": "formdata", "formdata": [{ "key": "voice_path", "type": "file" }, { "key": "items", "value": "[{\"_id\": \"item_id\"}]", "type": "text" }, { "key": "price", "value": "100", "type": "text" }] },
            "url": { "raw": "{{baseUrl}}/transactions/createWithVoice", "host": ["{{baseUrl}}"], "path": ["transactions", "createWithVoice"] }
          }
        },
        {
          "name": "Create with OCR",
          "request": {
            "method": "POST",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "body": { "mode": "formdata", "formdata": [{ "key": "OCR_path", "type": "file" }, { "key": "items", "value": "[{\"_id\": \"item_id\"}]", "type": "text" }, { "key": "price", "value": "250", "type": "text" }] },
            "url": { "raw": "{{baseUrl}}/transactions/createWithOCR", "host": ["{{baseUrl}}"], "path": ["transactions", "createWithOCR"] }
          }
        },
        {
          "name": "Get All Transactions",
          "request": {
            "method": "GET",
            "url": { "raw": "{{baseUrl}}/transactions?page=1&limit=10&sort=-createdAt", "host": ["{{baseUrl}}"], "path": ["transactions"], "query": [{ "key": "page", "value": "1" }, { "key": "limit", "value": "10" }, { "key": "sort", "value": "-createdAt" }] }
          }
        },
        {
          "name": "Get My Transactions",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/transactions/my?page=1&limit=10", "host": ["{{baseUrl}}"], "path": ["transactions", "my"], "query": [{ "key": "page", "value": "1" }, { "key": "limit", "value": "10" }] }
          }
        },
        {
          "name": "Get Transaction by ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/transactions/:id", "host": ["{{baseUrl}}"], "path": ["transactions", ":id"], "variable": [{ "key": "id", "value": "transaction_id" }] }
          }
        },
        {
          "name": "Get by Category",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/transactions/category/:categoryId", "host": ["{{baseUrl}}"], "path": ["transactions", "category", ":categoryId"], "variable": [{ "key": "categoryId", "value": "category_id" }] }
          }
        },
        {
          "name": "Get by Date Range",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/transactions/date-range?startDate=2024-01-01&endDate=2024-12-31", "host": ["{{baseUrl}}"], "path": ["transactions", "date-range"], "query": [{ "key": "startDate", "value": "2024-01-01" }, { "key": "endDate", "value": "2024-12-31" }] }
          }
        },
        {
          "name": "Update Transaction",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"text\": \"Updated description\",\n  \"price\": 75\n}" },
            "url": { "raw": "{{baseUrl}}/transactions/:id", "host": ["{{baseUrl}}"], "path": ["transactions", ":id"], "variable": [{ "key": "id", "value": "transaction_id" }] }
          }
        },
        {
          "name": "Delete Transaction",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/transactions/:id", "host": ["{{baseUrl}}"], "path": ["transactions", ":id"], "variable": [{ "key": "id", "value": "transaction_id" }] }
          }
        }
      ]
    },
    {
      "name": "Categories",
      "item": [
        {
          "name": "Create Category",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"name\": \"Food\",\n  \"color\": \"#FF5733\",\n  \"icon\": \"restaurant\",\n  \"budget\": 1000\n}" },
            "url": { "raw": "{{baseUrl}}/category", "host": ["{{baseUrl}}"], "path": ["category"] }
          }
        },
        {
          "name": "Get My Categories",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/category", "host": ["{{baseUrl}}"], "path": ["category"] }
          }
        },
        {
          "name": "Get Category by ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/category/:id", "host": ["{{baseUrl}}"], "path": ["category", ":id"], "variable": [{ "key": "id", "value": "category_id" }] }
          }
        },
        {
          "name": "Get Category with Items",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/category/:id/items", "host": ["{{baseUrl}}"], "path": ["category", ":id", "items"], "variable": [{ "key": "id", "value": "category_id" }] }
          }
        },
        {
          "name": "Update Category",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"name\": \"Food & Drinks\",\n  \"color\": \"#00FF00\"\n}" },
            "url": { "raw": "{{baseUrl}}/category/:id", "host": ["{{baseUrl}}"], "path": ["category", ":id"], "variable": [{ "key": "id", "value": "category_id" }] }
          }
        },
        {
          "name": "Delete Category",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/category/:id", "host": ["{{baseUrl}}"], "path": ["category", ":id"], "variable": [{ "key": "id", "value": "category_id" }] }
          }
        },
        {
          "name": "Add Items to Category",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"itemIds\": [\"item_id_1\", \"item_id_2\"]\n}" },
            "url": { "raw": "{{baseUrl}}/category/:id/items", "host": ["{{baseUrl}}"], "path": ["category", ":id", "items"], "variable": [{ "key": "id", "value": "category_id" }] }
          }
        },
        {
          "name": "Remove Items from Category",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"itemIds\": [\"item_id_1\"]\n}" },
            "url": { "raw": "{{baseUrl}}/category/:id/items", "host": ["{{baseUrl}}"], "path": ["category", ":id", "items"], "variable": [{ "key": "id", "value": "category_id" }] }
          }
        }
      ]
    },
    {
      "name": "Items",
      "item": [
        {
          "name": "Create Item",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"name\": \"Coffee\",\n  \"price\": 25,\n  \"categoryId\": \"category_id_optional\"\n}" },
            "url": { "raw": "{{baseUrl}}/items", "host": ["{{baseUrl}}"], "path": ["items"] }
          }
        },
        {
          "name": "Get My Items",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/items", "host": ["{{baseUrl}}"], "path": ["items"] }
          }
        },
        {
          "name": "Get Item by ID",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/items/:id", "host": ["{{baseUrl}}"], "path": ["items", ":id"], "variable": [{ "key": "id", "value": "item_id" }] }
          }
        },
        {
          "name": "Update Item",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"name\": \"Espresso\",\n  \"price\": 30\n}" },
            "url": { "raw": "{{baseUrl}}/items/:id", "host": ["{{baseUrl}}"], "path": ["items", ":id"], "variable": [{ "key": "id", "value": "item_id" }] }
          }
        },
        {
          "name": "Delete Item",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/items/:id", "host": ["{{baseUrl}}"], "path": ["items", ":id"], "variable": [{ "key": "id", "value": "item_id" }] }
          }
        },
        {
          "name": "Add Item to Category",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"itemId\": \"item_id\",\n  \"categoryId\": \"category_id\"\n}" },
            "url": { "raw": "{{baseUrl}}/items/add-to-category", "host": ["{{baseUrl}}"], "path": ["items", "add-to-category"] }
          }
        },
        {
          "name": "Remove Item from Category",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }, { "key": "token", "value": "{{token}}" }],
            "body": { "mode": "raw", "raw": "{\n  \"itemId\": \"item_id\",\n  \"categoryId\": \"category_id\"\n}" },
            "url": { "raw": "{{baseUrl}}/items/remove-from-category", "host": ["{{baseUrl}}"], "path": ["items", "remove-from-category"] }
          }
        }
      ]
    },
    {
      "name": "Analytics",
      "item": [
        {
          "name": "Get Summary",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/analytics/summary", "host": ["{{baseUrl}}"], "path": ["analytics", "summary"] }
          }
        },
        {
          "name": "Get by Category",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/analytics/by-category?startDate=2024-01-01&endDate=2024-12-31", "host": ["{{baseUrl}}"], "path": ["analytics", "by-category"], "query": [{ "key": "startDate", "value": "2024-01-01", "disabled": true }, { "key": "endDate", "value": "2024-12-31", "disabled": true }] }
          }
        },
        {
          "name": "Get by Date",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/analytics/by-date?period=daily&startDate=2024-01-01&endDate=2024-12-31", "host": ["{{baseUrl}}"], "path": ["analytics", "by-date"], "query": [{ "key": "period", "value": "daily", "description": "daily, weekly, or monthly" }, { "key": "startDate", "value": "2024-01-01", "disabled": true }, { "key": "endDate", "value": "2024-12-31", "disabled": true }] }
          }
        },
        {
          "name": "Get Top Categories",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/analytics/top-categories?limit=5", "host": ["{{baseUrl}}"], "path": ["analytics", "top-categories"], "query": [{ "key": "limit", "value": "5" }] }
          }
        },
        {
          "name": "Get Trends",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/analytics/trends", "host": ["{{baseUrl}}"], "path": ["analytics", "trends"] }
          }
        }
      ]
    },
    {
      "name": "Export",
      "item": [
        {
          "name": "Export to PDF",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/export/pdf?startDate=2024-01-01&endDate=2024-12-31", "host": ["{{baseUrl}}"], "path": ["export", "pdf"], "query": [{ "key": "startDate", "value": "2024-01-01", "disabled": true }, { "key": "endDate", "value": "2024-12-31", "disabled": true }, { "key": "categoryId", "value": "", "disabled": true }] }
          }
        },
        {
          "name": "Export to CSV",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/export/csv?startDate=2024-01-01&endDate=2024-12-31", "host": ["{{baseUrl}}"], "path": ["export", "csv"], "query": [{ "key": "startDate", "value": "2024-01-01", "disabled": true }, { "key": "endDate", "value": "2024-12-31", "disabled": true }, { "key": "categoryId", "value": "", "disabled": true }] }
          }
        },
        {
          "name": "Export to JSON",
          "request": {
            "method": "GET",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "url": { "raw": "{{baseUrl}}/export/json?startDate=2024-01-01&endDate=2024-12-31", "host": ["{{baseUrl}}"], "path": ["export", "json"], "query": [{ "key": "startDate", "value": "2024-01-01", "disabled": true }, { "key": "endDate", "value": "2024-12-31", "disabled": true }, { "key": "categoryId", "value": "", "disabled": true }] }
          }
        }
      ]
    },
    {
      "name": "AI Analysis",
      "item": [
        {
          "name": "Analyze Text/Image",
          "request": {
            "method": "POST",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "body": { "mode": "formdata", "formdata": [{ "key": "OCR_path", "type": "file" }, { "key": "text", "value": "اشتريت قهوة بـ 50 جنيه", "type": "text" }] },
            "url": { "raw": "{{baseUrl}}/ai/analyze", "host": ["{{baseUrl}}"], "path": ["ai", "analyze"] }
          }
        },
        {
          "name": "Analyze Voice",
          "request": {
            "method": "POST",
            "header": [{ "key": "token", "value": "{{token}}" }],
            "body": { "mode": "formdata", "formdata": [{ "key": "voice_path", "type": "file" }] },
            "url": { "raw": "{{baseUrl}}/ai/voice", "host": ["{{baseUrl}}"], "path": ["ai", "voice"] }
          }
        }
      ]
    },
    {
      "name": "Health Check",
      "item": [
        {
          "name": "API Health",
          "request": {
            "method": "GET",
            "url": { "raw": "{{baseUrl}}/api", "host": ["{{baseUrl}}"], "path": ["api"] }
          }
        }
      ]
    }
  ]
}
